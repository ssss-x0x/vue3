# 第 8 章 コンポーネント間連携

## この章でやること

- コンポーネントの内容を別のコンポーネントに分割するために、コンポーネントを追加する方法
- コンポーネントから別のコンポーネントを利用する方法
- 複数のコンポーネントを連携する方法

## コンポーネントとは

- HTML, CSS, スクリプトをワンセットとして再利用可能な部品としたもの。
- `.vue` など、ひとつのファイルのコンポーネントをまとめて記述したものをシングルファイルコンポーネント(SFC)という。

### コンポーネント内の処理の影響範囲

- スクリプトブロックの処理はコンポーネント内で完結する。
- スタイルブロックに記した CSS は他のコンポーネントのスタイルブロックにも影響する・される。
- コンポーネントごとに独立した CSS を記述したい場合は、 `scoped` 属性を style タグに付与する。これを`Scoped CSS` と呼ぶ。
  - scoped CSS が設定されたコンポーネント由来のタグには `data-v-####` という属性が自動で付与され、スタイルブロックに記述したセレクタにも同じ属性セレクタが自動で付与されることで、スコープを絞った CSS が反映できるようになっている。

## 親から子へのコンポーネント間通信

### 親からデータをもらう Props

- 親コンポーネントから子コンポーネントを呼び出す際は Props を使用する
  - 子コンポーネント
    - Props を定義
    - スクリプトブロック内で Props の値の有無によって処理を変えたい場合は、`defineProps()` 関数で Props を変数として受け取る処理も記述する
  - 親コンポーネント
    - 子コンポーネントを呼び出す際に、プロパティに必要な値を受け渡す
- Props の値は子コンポーネントでは直接変更できない。readonly である。
- Props のデフォルト値は `withDefault()`関数を使って設定できる。

```
withDefault(
    defineProps<Props>(),
    { 非必須Prop名: デフォルト値, ...}
)
```
